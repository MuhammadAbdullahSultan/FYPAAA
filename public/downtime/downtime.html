<div class="page-header">
    <h1>MANAGE DOWNTIME </h1>
</div>
<div data-ng-app="downtime">
<div class="row">
        
    </div>
    
<div class="row">
    
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <button type="button" class="btn cd-add-to-cart cd-add-to-cart:hover cd-add-to-cart:active" data-toggle="modal" data-target="#manageDT" data-backdrop="false">Manage Downtime  <span class="glyphicon glyphicon-plus"></span></button>
        </div>
</div>
    
    <div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">Search Filter</h3>
  </div>
  <div class="panel-body">
    <div class="form-group col-xs-4" id="sysList">
         <label for="selectsys">Select system list:</label>
         <select class="form-control" id="selectsys" data-ng-model="system">
            <option value="" disabled="" selected="" style="display: none">List of systems</option>
            <option ng-repeat="d in dtdata">{{d.downtime[d.$id]}}</option>
         </select>
      </div>
      
      <div class="form-group col-xs-4" id="equipList">
         <label for="selectequ">Select equipment list:</label>
         <select class="form-control" id="selectequ" data-ng-model="obj.equipment">
            <option selected></option>
            <option data-ng-repeat="eq in dtdata track by $index">{{eq.$id}}</option>
         </select>
      </div>

        <div class="form-group col-xs-4 col-sm-4 col-md-4 col-lg-4" id="equipList">
             <label for="date">Select date</label>
              <input type="text" class="form-control" placeholder="Day, Month, Year" data-ng-model="start" id="datetimepickerSearch" />
          </div>
    
    <br/>
    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 col-xs-offset-2" id="Type">
        <label for="type">Select type:</label>
        <br/>
        
        <input type = "radio" data-ng-model = "type" value = "Corrective Maintenance" />Corrective Maintenance &nbsp;
        <input type = "radio" data-ng-model = "type" value = "Preventive Maintenance" />Preventive Maintenance &nbsp;
        <input type = "radio" data-ng-model = "type" value = "Standby" />Standby &nbsp;
        <input type = "radio" data-ng-model = "type"/>All&nbsp;  
        <br/>
        <br/>
    </div>
  </div>
</div>
    
   <hr/>
   <div class="table-responsive">
      <table class="table table-striped table-inverse table-hover">
          <thead class="thead-inverse">
              <tr>
                <th id="equipment">Equipment</th>
                <th id="start">start</th>
                <th id="end">end</th>
                <th id="type">Type</th>
             </tr>
          </thead>
         
         <tr data-ng-repeat="d in allDT | filter: equipment | filter: type | filter: obj | filter: start track by $index" data-ng-if="d != null">
            <td headers = "equipment">{{d.equipment}}</td>
            <td headers = "start">{{d.start}}</td>
            <td headers = "end">{{d.end}}</td>
            <td headers = "type">{{d.type}}</td>
         </tr>
      </table>
   </div>


<a class="btn cd-add-to-cart cd-add-to-cart:hover cd-add-to-cart:active" role="button" data-toggle="modal" data-target="#viewReport" data-backdrop="false">VIEW REPORT <span class="glyphicon glyphicon-eye-open"></span></a>
    
<a class="btn cd-add-to-cart cd-add-to-cart:hover cd-add-to-cart:active" role="button" data-ng-click="writeUserData(equipment, system)" data-ng-click="initializeExport()" title="Export table (Excel) to computer"><span class="glyphicon glyphicon-export"></span></a>
            
<a class="btn cd-add-to-cart cd-add-to-cart:hover cd-add-to-cart:active" role="button" data-ng-click="writeUserData(equipment, system)" data-ng-click="initializePrint()" title="Print table to PDF"><span class="glyphicon glyphicon-print"></span></a>
    
    
</div>

<!-- Modal -->
<div class="modal fade" id="viewReport">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Report</h4>
      </div>
      <div class="modal-body">
          
      </div>
      <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
 
<div class="modal fade" id="manageDT" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Start Downtime</h4>
      </div>
      <div class="modal-body">
            <div class="row">
            <div class="col-xs-12">

            <div class="form-group col-xs-6 col-sm-6 col-md-6 col-lg-6" id="equipList">
    <label for="selectequ">Select Equipment</label>
    <select class="form-control" id="selectequ" data-ng-model="equipment">
        <option value="" disabled="" selected="" style="display: none">Select Equipment</option>
        <option data-ng-repeat="(eqName, eqData) in add track by $index" value="{{eqName}}">{{eqName}}</option>
    </select>
    <p data-ng-model="add[equipment].system"></p>
</div>
                
                {{equipment}}
                <br>
                {{add[equipment].system}}
                
              <label for="selectequ">Select Equipment</label>
                <select class="form-control" id="selectequ" data-ng-model="equipment">
                    <option value="" disabled="" selected="" style="display: none">Select Equipment</option>
                <option data-ng-repeat="eq in add track by $index">{{eq.$id}}</option>
                </select>
                
                <p data-ng-model="system"></p>
                
            </div>

                <div class="form-group col-xs-6 col-sm-6 col-md-6 col-lg-6" id="Type">
                 <label for="searchType">Search by Type:</label>
                     <select class="form-control" id="searchType" data-ng-model="type">
                        <option value="" disabled="" selected="" style="display: none">Select type of maintenance</option>
                        <option>Corrective Maintenance</option>
                        <option>Preventive Maintenance</option>
                        <option>Standby</option>
                     </select>
                </div>

                
                <div class="form-group col-xs-6">
              <label for="date">Start of Downtime</label>

            <input type="text" class="form-control" placeholder="Day, Month, Year" data-ng-model="startDT" id="datetimepicker1"/>
                </div>
            <div class="form-group col-xs-6">
              <label for="date">End of Downtime</label>
                <input type="text" class="form-control" placeholder="Day, Month, Year" data-ng-model="endDT" id="datetimepicker3"/>
            </div>

            </div>
        </div>
          
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-ng-click="manageDowntime()">Add Downtime
            <span class="glyphicon glyphicon-plus"></span></button>
          
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
    

    
    
